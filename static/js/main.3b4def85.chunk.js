(this.webpackJsonpreactomatoes=this.webpackJsonpreactomatoes||[]).push([[0],{1:function(e,a,t){e.exports={movie_list:"MovieDetail_movie_list__128-i",details__back_button:"MovieDetail_details__back_button__1e_xW",movie_details__back_icon:"MovieDetail_movie_details__back_icon__RuUnV",minor_details:"MovieDetail_minor_details__2gZRj",movie_title:"MovieDetail_movie_title__3DUML",movie_rating:"MovieDetail_movie_rating__1zFC-",details__main:"MovieDetail_details__main__T601u",details__movie_poster:"MovieDetail_details__movie_poster__2mZ-a",detail_item__detail_list:"MovieDetail_detail_item__detail_list__36oQ1",movie_plot:"MovieDetail_movie_plot__11UL2",other_details__title:"MovieDetail_other_details__title__LjrXi",other_details__detail_item:"MovieDetail_other_details__detail_item__qSWMn",details__content:"MovieDetail_details__content__3bMh9"}},13:function(e,a,t){e.exports={movie__favorite_icon:"FavoriteButton_movie__favorite_icon__2tZ_R",movie__favorite_icon__favorite:"FavoriteButton_movie__favorite_icon__favorite__nchWN",favorite_icon__icon:"FavoriteButton_favorite_icon__icon__3RsP2",movie__favorite_icon__labeled:"FavoriteButton_movie__favorite_icon__labeled__16vqr",favorite_icon__label:"FavoriteButton_favorite_icon__label__x2yA5"}},15:function(e,a,t){e.exports={movie_list:"MovieList_movie_list__3smpw",movie_list__movie:"MovieList_movie_list__movie__udQ7W",movie__poster:"MovieList_movie__poster__sMtr8"}},18:function(e,a,t){e.exports={app__header:"Header_app__header__L1MUk",header__title:"Header_header__title__eRPRW",header__title__link:"Header_header__title__link__3pG1_",header__favorites_link:"Header_header__favorites_link__15Zgb"}},20:function(e,a,t){e.exports={search:"SearchInput_search__dBEaI",search__icon:"SearchInput_search__icon__2HQ5u",search__input:"SearchInput_search__input__8DaoV"}},21:function(e,a,t){e.exports={feedback:"FeedbackMessage_feedback__1U4rz",feedback__icon:"FeedbackMessage_feedback__icon__2pAyB",feedback__label:"FeedbackMessage_feedback__label__2dOG8"}},25:function(e,a,t){e.exports={app:"App_app__2K5xB"}},40:function(e,a,t){e.exports=t(68)},67:function(e,a,t){},68:function(e,a,t){"use strict";t.r(a);var i=t(0),n=t.n(i),c=t(36),l=t.n(c),r=t(9),_=t(2),o=t(18),s=t.n(o),m=t(4),u=t(12),v=t(39),d=function(){return JSON.parse(localStorage.getItem("favorites"))||[]},f=function(e){return localStorage.setItem("favorites",JSON.stringify(e))},h={favorites:d()};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0,t=null;switch(a.type){case"ACTION_FAVORITE_ADD":return t=[].concat(Object(v.a)(e.favorites),[a.payload.movie]),f(t),Object(u.a)(Object(u.a)({},e),{},{favorites:t});case"ACTION_FAVORITE_REMOVE":return t=e.favorites.filter((function(e){return e.imdbID!==a.payload.movie.imdbID})),f(t),Object(u.a)(Object(u.a)({},e),{},{favorites:t});default:return e}}var E=Object(i.createContext)(),p=function(e){var a=e.children,t=Object(i.useReducer)(b,{favorites:d()}),c=Object(m.a)(t,2),l=c[0],r=c[1];return n.a.createElement(E.Provider,{value:{state:l,dispatch:r}},a)},N=function(){var e=Object(i.useContext)(E).state.favorites;return n.a.createElement("header",{className:s.a.app__header},n.a.createElement("h1",{className:s.a.header__title},n.a.createElement("span",{role:"img","aria-label":"Tomato icon"},"\ud83c\udf45"),"\xa0",n.a.createElement(r.b,{to:"/",className:s.a.header__title__link},"Reactomatoes")),n.a.createElement(r.b,{to:"/favorites",className:s.a.header__favorites_link},n.a.createElement("span",{role:"img","aria-label":"Heart icon"},"\u2764\ufe0f(",e.length,")")))},O=t(10),g=function(e){var a=e.iconName,t=e.style,i=e.className,c=e.children;return n.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false",style:t,className:i,"data-icon":a,"aria-hidden":"true"},c)},j=n.a.memo((function(e){e.children;var a=Object(O.a)(e,["children"]);return n.a.createElement(g,Object.assign({},a,{iconName:"heart"}),n.a.createElement("path",{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}))})),k=n.a.memo((function(e){e.children;var a=Object(O.a)(e,["children"]);return n.a.createElement(g,Object.assign({},a,{iconName:"heart"}),n.a.createElement("path",{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}))})),C=n.a.memo((function(e){var a=e.className,t=e.style,i=e.width,c=void 0===i?"3rem":i,l=e.height,r=void 0===l?"3rem":l;return n.a.createElement("svg",{className:a,x:"0px",y:"0px",width:c,height:r,"data-icon":"loading",viewBox:"0 0 40 40",style:Object(u.a)({enableBackground:"new 0 0 50 50"},t),xmlSpace:"preserve"},n.a.createElement("path",{opacity:"0.2",fill:"#000",d:"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"}),n.a.createElement("path",{fill:"#000",d:"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z"},n.a.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"0.5s",repeatCount:"indefinite"})))})),y=n.a.memo((function(e){e.children;var a=Object(O.a)(e,["children"]);return n.a.createElement(g,Object.assign({},a,{iconName:"search"}),n.a.createElement("path",{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}))})),M=n.a.memo((function(e){e.children;var a=Object(O.a)(e,["children"]);return n.a.createElement(g,a,n.a.createElement("path",{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}))})),x=t(20),D=t.n(x),I=function(e){var a=e.value,t=e.onChange,c=Object(i.useState)(a),l=Object(m.a)(c,2),r=l[0],_=l[1];return Object(i.useEffect)((function(){_(a)}),[a]),n.a.createElement("div",{className:D.a.search},n.a.createElement(y,{className:D.a.search__icon}),n.a.createElement("input",{"data-testid":"search-input",className:D.a.search__input,type:"text",spellCheck:!1,placeholder:"Search for movies",value:r,onChange:function(e){_(e.target.value),t(e.target.value)}}))},S=t(14),A=t.n(S),R=t(13),F=t.n(R),T=n.a.memo((function(e){var a=e.movie,t=e.favorite,c=e.label,l=e.style,r=e.iconClassName,_=Object(i.useContext)(E).dispatch,o=Object(i.useState)(t),s=Object(m.a)(o,2),u=s[0],v=s[1];return Object(i.useEffect)((function(){v(t)}),[t]),n.a.createElement("button",{style:l,className:A()(F.a.movie__favorite_icon,u?F.a.movie__favorite_icon__favorite:"",c?F.a.movie__favorite_icon__labeled:""),type:"button",onClick:function(){_(u?function(e){return{type:"ACTION_FAVORITE_REMOVE",payload:{movie:e}}}(a):function(e){return{type:"ACTION_FAVORITE_ADD",payload:{movie:e}}}(a))}},u?n.a.createElement(j,{className:A()(r,F.a.favorite_icon__icon)}):n.a.createElement(k,{className:A()(r,F.a.favorite_icon__icon)}),n.a.createElement("span",{className:F.a.favorite_icon__label},c))})),L=t(15),z=t.n(L),w=function(e){var a=e.movies,t=Object(i.useContext)(E).state.favorites,c=A()(z.a.movie_list__movie,z.a.scalable);return n.a.createElement("ul",{className:z.a.movie_list},a.map((function(e){return n.a.createElement("li",{key:e.imdbID,className:c},n.a.createElement("figure",{className:z.a.movie__poster},n.a.createElement(r.b,{to:"/".concat(e.imdbID),href:"#?"},n.a.createElement("img",{src:"N/A"!==e.Poster?e.Poster:"https://via.placeholder.com/300x420/2F3240/CECECE/?text=Poster%20N/A",alt:e.Title}))),n.a.createElement(T,{iconClassName:z.a.movie__favorite_icon,movie:e,favorite:void 0!==t.find((function(a){return e.imdbID===a.imdbID}))}))})))};var B=t(21),P=t.n(B),V=function(e){var a=e.icon,t=e.label;return n.a.createElement("div",{className:P.a.feedback},a&&n.a.createElement("div",{className:P.a.feedback__icon},a),n.a.createElement("span",{className:P.a.feedback__label},t))},H=t(38),U=t.n(H).a.create({baseURL:"https://reactomatoes-api.herokuapp.com"});var W=function(){var e=new URLSearchParams(Object(_.g)().search),a=Object(i.useState)(e.get("search")||""),t=Object(m.a)(a,2),c=t[0],l=t[1],r=function(e,a){var t=Object(i.useState)(e),n=Object(m.a)(t,2),c=n[0],l=n[1];return Object(i.useEffect)((function(){var t=setTimeout((function(){l(e)}),a);return function(){return clearTimeout(t)}}),[e,a]),c}(c,500),o=Object(i.useState)([]),s=Object(m.a)(o,2),u=s[0],v=s[1],d=Object(i.useState)(!1),f=Object(m.a)(d,2),h=f[0],b=f[1],E=Object(i.useState)(null),p=Object(m.a)(E,2),N=p[0],O=p[1],g=Object(_.f)();return Object(i.useEffect)((function(){var e;r?(g.push({search:"?search=".concat(r)}),b(!0),O(!1),(e=r,U.get("/api/v1/movies/?search=".concat(e))).then((function(e){return v(e.data)})).catch((function(e){return O(e.response.data)})).finally((function(){return b(!1)}))):(v([]),O(!1))}),[r,g]),n.a.createElement(n.a.Fragment,null,n.a.createElement(I,{value:c,onChange:function(e){return l(e)}}),h?n.a.createElement(V,{"data-testid":"loading",icon:n.a.createElement(C,null),label:"Loading data..."}):N?n.a.createElement(V,{"data-testid":"error",icon:n.a.createElement(M,{style:{width:"3rem",height:"3rem"}}),label:N.message}):0===u.length?n.a.createElement(V,{label:"No movies to display. Try searching by typing the input box above."}):n.a.createElement(w,{movies:u}))},G=function(){var e=Object(i.useContext)(E).state.favorites;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,"Favorites"),0===e.length?n.a.createElement(V,{label:"You currently have no favorites."}):n.a.createElement(w,{movies:e}))},J=t(1),Z=t.n(J),Q=n.a.memo((function(e){e.children;var a=Object(O.a)(e,["children"]);return n.a.createElement(g,Object.assign({},a,{iconName:"back-icon"}),n.a.createElement("path",{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}))})),q=function(){var e=Object(i.useContext)(E).state.favorites,a=Object(_.h)().movieId,t=Object(i.useState)(null),c=Object(m.a)(t,2),l=c[0],r=c[1],o=Object(i.useState)(!1),s=Object(m.a)(o,2),u=s[0],v=s[1],d=Object(i.useState)(null),f=Object(m.a)(d,2),h=f[0],b=f[1],p=Object(_.f)();e.find((function(e){return a&&a===e.imdbID}));return Object(i.useEffect)((function(){var e;a&&(v(!0),b(!1),(e=a,U.get("/api/v1/movies/".concat(e))).then((function(e){return r(e.data)})).catch((function(e){return b(e.response.data)})).finally((function(){return v(!1)})))}),[a]),!u&&l?n.a.createElement("div",{className:Z.a.movie_details__wrapper},n.a.createElement("div",{className:Z.a.movie_details},n.a.createElement("button",{type:"button",className:Z.a.details__back_button,onClick:function(){return p.goBack()}},n.a.createElement("span",{className:Z.a.details__back},n.a.createElement(Q,{className:Z.a.movie_details__back_icon,width:"1rem",height:"1rem"}))),n.a.createElement("div",{className:Z.a.minor_details},n.a.createElement("span",{className:Z.a.minor_details__runtime},l.Runtime),n.a.createElement("span",{className:Z.a.minor_details__year},l.Year),n.a.createElement("span",{className:Z.a.minor_details__rated},l.Rated)),n.a.createElement("h2",{className:Z.a.movie_title},l.Title),n.a.createElement("div",{className:Z.a.movie_rating},l.Ratings&&l.Ratings.map((function(e){return n.a.createElement("span",{key:e.Value,className:Z.a.movie_rating__imdb},e.Value)}))),n.a.createElement("div",{className:Z.a.details__main},n.a.createElement("figure",{className:Z.a.details__movie_poster},n.a.createElement("img",{src:"N/A"!==l.Poster?l.Poster:"https://via.placeholder.com/190x280/2F3240/CECECE/?text=Poster%20N/A",alt:l.Title}),n.a.createElement(T,{iconClassName:Z.a.movie__favorite_icon,movie:l,favorite:void 0!==e.find((function(e){return l.imdbID===e.imdbID}))})),n.a.createElement("div",{className:Z.a.details__content},n.a.createElement("div",{className:Z.a.movie_plot},n.a.createElement("h3",{className:Z.a.other_details__title},"Plot"),n.a.createElement("p",null,l.Plot)),n.a.createElement("div",{className:Z.a.other_details},n.a.createElement("div",{className:Z.a.other_details__detail_item},n.a.createElement("h3",{className:Z.a.other_details__title},"Cast"),n.a.createElement("ul",{className:Z.a.detail_item__detail_list},l.Actors.split(",").map((function(e){return n.a.createElement("li",{key:e,className:Z.a.detail_list__item},e.trim())})))),n.a.createElement("div",{className:Z.a.other_details__detail_item},n.a.createElement("h3",{className:Z.a.other_details__title},"Genre"),n.a.createElement("ul",{className:Z.a.detail_item__detail_list},l.Genre.split(",").map((function(e){return n.a.createElement("li",{key:e,className:Z.a.detail_list__item},e.trim())})))),n.a.createElement("div",{className:Z.a.other_details__detail_item},n.a.createElement("h3",{className:Z.a.other_details__title},"Director"),n.a.createElement("ul",{className:Z.a.detail_item__detail_list},l.Director.split(",").map((function(e){return n.a.createElement("li",{key:e,className:Z.a.detail_list__item},e.trim())}))))))))):h?n.a.createElement(V,{icon:n.a.createElement(M,null),label:h.message}):u?n.a.createElement(V,{icon:n.a.createElement(C,null),label:"Loading data..."}):null},Y=t(25),K=t.n(Y);var X=function(){return n.a.createElement("div",{className:K.a.app},n.a.createElement(N,null),n.a.createElement("main",{className:K.a.app__content},n.a.createElement(_.c,null,n.a.createElement(_.a,{exact:!0,path:"/"},n.a.createElement(W,null)),n.a.createElement(_.a,{path:"/favorites"},n.a.createElement(G,null)),n.a.createElement(_.a,{path:"/:movieId"},n.a.createElement(q,null)))))};t(67);l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(p,null,n.a.createElement(r.a,null,n.a.createElement(X,null)))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.3b4def85.chunk.js.map