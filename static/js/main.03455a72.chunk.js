(this["webpackJsonpreactomatoes-front"]=this["webpackJsonpreactomatoes-front"]||[]).push([[0],{1:function(e,t,a){e.exports={movie_details__wrapper:"MovieDetail_movie_details__wrapper__3ma0S",details__back_button:"MovieDetail_details__back_button__1e_xW",details__back:"MovieDetail_details__back__1kJyz",minor_details:"MovieDetail_minor_details__2gZRj",minor_details__rated:"MovieDetail_minor_details__rated__3Hj8Y",movie_title:"MovieDetail_movie_title__3DUML",movie_rating:"MovieDetail_movie_rating__1zFC-",favorite_button:"MovieDetail_favorite_button__1OVyu",movie_plot:"MovieDetail_movie_plot__11UL2",other_details:"MovieDetail_other_details__1pcIw",other_details__title:"MovieDetail_other_details__title__LjrXi",detail_item__detail_list:"MovieDetail_detail_item__detail_list__36oQ1",other_details__detail_item:"MovieDetail_other_details__detail_item__qSWMn",details__movie_poster:"MovieDetail_details__movie_poster__2mZ-a"}},10:function(e,t,a){e.exports={app__header:"Header_app__header__L1MUk",menu__items:"Header_menu__items__3cxGH",menu__menu_item:"Header_menu__menu_item__33JnI",menu_item__link:"Header_menu_item__link__3rkAT"}},14:function(e,t,a){e.exports={movie__favorite_icon:"FavoriteButton_movie__favorite_icon__2tZ_R",movie__favorite_icon__favorite:"FavoriteButton_movie__favorite_icon__favorite__nchWN",favorite_icon__icon:"FavoriteButton_favorite_icon__icon__3RsP2",movie__favorite_icon__labeled:"FavoriteButton_movie__favorite_icon__labeled__16vqr",favorite_icon__label:"FavoriteButton_favorite_icon__label__x2yA5"}},17:function(e,t,a){e.exports={content__movie_list:"MovieList_content__movie_list__1M6Ze",movie_list__movie:"MovieList_movie_list__movie__udQ7W",movie__poster:"MovieList_movie__poster__sMtr8",scalable:"MovieList_scalable__1wi7b"}},20:function(e,t,a){e.exports={content__search:"SearchInput_content__search__2wxaj",search__icon:"SearchInput_search__icon__2HQ5u",search__input:"SearchInput_search__input__8DaoV"}},22:function(e,t,a){e.exports={app:"App_app__2K5xB",app__content:"App_app__content__2ju-X"}},25:function(e,t,a){e.exports={feedback__container:"FeedbackMessage_feedback__container__2kK-O",feedback:"FeedbackMessage_feedback__1U4rz"}},40:function(e,t,a){e.exports=a(68)},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(36),r=a.n(c),l=a(9),_=a(2),o=a(22),s=a.n(o),m=a(10),u=a.n(m),v=function(){return i.a.createElement("header",{className:u.a.app__header},i.a.createElement("h1",{className:u.a.header__title},"Reactomatoes"),i.a.createElement("nav",{className:u.a.header__menu},i.a.createElement("ul",{className:u.a.menu__items},i.a.createElement("li",{className:u.a.menu__menu_item},i.a.createElement(l.b,{to:"/",className:u.a.menu_item__link},"Home")),i.a.createElement("li",{className:u.a.menu__menu_item},i.a.createElement(l.b,{to:"/favorites",className:u.a.menu_item__link},"Favorites")))))},d=a(4),f=a(11),h=function(e){var t=e.iconName,a=e.width,n=e.height,c=e.style,r=e.className,l=e.children;return i.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false",style:c,className:r,"data-icon":t,width:a,height:n,"aria-hidden":"true"},l)},p=i.a.memo((function(e){e.children;var t=Object(f.a)(e,["children"]);return i.a.createElement(h,Object.assign({},t,{iconName:"heart"}),i.a.createElement("path",{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}))})),E=i.a.memo((function(e){e.children;var t=Object(f.a)(e,["children"]);return i.a.createElement(h,Object.assign({},t,{iconName:"heart"}),i.a.createElement("path",{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}))})),b=a(13),N=i.a.memo((function(e){var t=e.className,a=e.style,n=e.width,c=void 0===n?"3rem":n,r=e.height,l=void 0===r?"3rem":r;return i.a.createElement("svg",{className:t,x:"0px",y:"0px",width:c,height:l,"data-icon":"loading",viewBox:"0 0 40 40",style:Object(b.a)({enableBackground:"new 0 0 50 50"},a),xmlSpace:"preserve"},i.a.createElement("path",{opacity:"0.2",fill:"#000",d:"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946 s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634 c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"}),i.a.createElement("path",{fill:"#000",d:"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z"},i.a.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"0.5s",repeatCount:"indefinite"})))})),O=i.a.memo((function(e){e.children;var t=Object(f.a)(e,["children"]);return i.a.createElement(h,Object.assign({},t,{iconName:"search"}),i.a.createElement("path",{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}))})),g=i.a.memo((function(e){e.children;var t=Object(f.a)(e,["children"]);return i.a.createElement(h,t,i.a.createElement("path",{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}))})),j=a(20),y=a.n(j),M=function(e){var t=e.value,a=e.onChange,c=Object(n.useState)(t),r=Object(d.a)(c,2),l=r[0],_=r[1];return Object(n.useEffect)((function(){_(t)}),[t]),i.a.createElement("div",{className:y.a.content__search},i.a.createElement("span",{className:y.a.search__icon},i.a.createElement(O,{width:"1.5rem",height:"1.5rem"})),i.a.createElement("input",{"data-testid":"search-input",className:y.a.search__input,type:"text",spellCheck:!1,placeholder:"Search your fav movies",value:l,onChange:function(e){_(e.target.value),a(e.target.value)}}))},C=a(19),k=a.n(C),x=a(39),D=function(){return JSON.parse(localStorage.getItem("favorites"))||[]},S=function(e){return localStorage.setItem("favorites",JSON.stringify(e))},I={favorites:D()};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,a=null;switch(t.type){case"ACTION_FAVORITE_ADD":return a=[].concat(Object(x.a)(e.favorites),[t.payload.movie]),S(a),Object(b.a)(Object(b.a)({},e),{},{favorites:a});case"ACTION_FAVORITE_REMOVE":return a=e.favorites.filter((function(e){return e.imdbID!==t.payload.movie.imdbID})),S(a),Object(b.a)(Object(b.a)({},e),{},{favorites:a});default:return e}}var w=Object(n.createContext)(),F=function(e){var t=e.children,a=Object(n.useReducer)(A,{favorites:D()}),c=Object(d.a)(a,2),r=c[0],l=c[1];return i.a.createElement(w.Provider,{value:{state:r,dispatch:l}},t)},z=a(14),R=a.n(z),T=i.a.memo((function(e){var t=e.movie,a=e.favorite,c=e.label,r=e.style,l=e.iconSize,_=void 0===l?"1rem":l,o=Object(n.useContext)(w).dispatch,s=Object(n.useState)(a),m=Object(d.a)(s,2),u=m[0],v=m[1];return Object(n.useEffect)((function(){v(a)}),[a]),i.a.createElement("button",{style:r,className:k()(R.a.movie__favorite_icon,u?R.a.movie__favorite_icon__favorite:"",c?R.a.movie__favorite_icon__labeled:""),type:"button",onClick:function(){o(u?function(e){return{type:"ACTION_FAVORITE_REMOVE",payload:{movie:e}}}(t):function(e){return{type:"ACTION_FAVORITE_ADD",payload:{movie:e}}}(t))}},u?i.a.createElement(p,{className:R.a.favorite_icon__icon,width:_,height:_}):i.a.createElement(E,{className:R.a.favorite_icon__icon,width:_,height:_}),i.a.createElement("span",{className:R.a.favorite_icon__label},c))})),L=a(17),B=a.n(L),P=function(e){var t=e.movies,a=Object(n.useContext)(w).state.favorites,c=k()(B.a.movie_list__movie,B.a.scalable);return i.a.createElement("ul",{className:B.a.content__movie_list},t.map((function(e){return i.a.createElement("li",{key:e.imdbID,className:c},i.a.createElement("figure",{className:B.a.movie__poster},i.a.createElement(l.b,{to:"/".concat(e.imdbID),href:"#?"},i.a.createElement("img",{src:"N/A"!==e.Poster?e.Poster:"https://via.placeholder.com/190x280/2F3240/CECECE/?text=Poster%20N/A",alt:e.Title}))),i.a.createElement(T,{style:{position:"absolute",top:"0.5rem",right:"0.5rem"},iconSize:"2rem",movie:e,favorite:void 0!==a.find((function(t){return e.imdbID===t.imdbID}))}))})))};var V=a(25),H=a.n(V),J=function(e){var t=e.icon,a=e.label;return i.a.createElement("div",{className:H.a.feedback__container},i.a.createElement("div",{className:H.a.feedback},t),i.a.createElement("span",null,a))},U=a(38),W=a.n(U).a.create({baseURL:"https://reactomatoes-api.herokuapp.com/api"});var Z=function(){var e=new URLSearchParams(Object(_.g)().search),t=Object(n.useState)(e.get("search")||""),a=Object(d.a)(t,2),c=a[0],r=a[1],l=function(e,t){var a=Object(n.useState)(e),i=Object(d.a)(a,2),c=i[0],r=i[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){r(e)}),t);return function(){return clearTimeout(a)}}),[e,t]),c}(c,500),o=Object(n.useState)([]),s=Object(d.a)(o,2),m=s[0],u=s[1],v=Object(n.useState)(!1),f=Object(d.a)(v,2),h=f[0],p=f[1],E=Object(n.useState)(null),b=Object(d.a)(E,2),O=b[0],j=b[1],y=Object(_.f)();return Object(n.useEffect)((function(){var e;l?(y.push({search:"?search=".concat(l)}),p(!0),j(!1),(e=l,W.get("/?search=".concat(e))).then((function(e){return u(e.data)})).catch((function(e){return j(e.response.data)})).finally((function(){return p(!1)}))):(u([]),j(!1))}),[l,y]),i.a.createElement(i.a.Fragment,null,i.a.createElement(M,{value:c,onChange:function(e){return r(e)}}),h?i.a.createElement(J,{"data-testid":"loading",icon:i.a.createElement(N,null),label:"Loading data..."}):O?i.a.createElement(J,{"data-testid":"error",icon:i.a.createElement(g,{width:"3rem",height:"3rem"}),label:O.message}):0===m.length?i.a.createElement(J,{label:"No movies to display. Try searching by typing the input box above."}):i.a.createElement(P,{movies:m}))},G=function(){var e=Object(n.useContext)(w).state.favorites;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Favorites"),0===e.length?i.a.createElement(J,{label:"You currently have no favorites."}):i.a.createElement(P,{movies:e}))},Q=a(1),Y=a.n(Q),q=function(){var e=Object(n.useContext)(w).state.favorites,t=Object(_.h)().movieId,a=Object(n.useState)(null),c=Object(d.a)(a,2),r=c[0],l=c[1],o=Object(n.useState)(!1),s=Object(d.a)(o,2),m=s[0],u=s[1],v=Object(n.useState)(null),f=Object(d.a)(v,2),h=f[0],p=f[1],E=Object(_.f)(),b=void 0!==e.find((function(e){return t&&t===e.imdbID}));return Object(n.useEffect)((function(){var e;t&&(u(!0),p(!1),(e=t,W.get("/".concat(e))).then((function(e){return l(e.data)})).catch((function(e){return p(e.response.data)})).finally((function(){return u(!1)})))}),[t]),!m&&r?i.a.createElement("div",{className:Y.a.movie_details__wrapper},i.a.createElement("div",{className:Y.a.movie_details},i.a.createElement("button",{type:"button",className:Y.a.details__back_button,onClick:function(){return E.goBack()}},i.a.createElement("span",{className:Y.a.details__back},"\ud83e\udc50")),i.a.createElement("div",{className:Y.a.minor_details},i.a.createElement("span",{className:Y.a.minor_details__runtime},r.Runtime),i.a.createElement("span",{className:Y.a.minor_details__year},r.Year),i.a.createElement("span",{className:Y.a.minor_details__rated},r.Rated)),i.a.createElement("h2",{className:Y.a.movie_title},r.Title),i.a.createElement("div",{className:Y.a.movie_rating},r.Ratings&&r.Ratings.map((function(e){return i.a.createElement("span",{key:e.Value,className:Y.a.movie_rating__imdb},e.Value)})),i.a.createElement(T,{movie:r,favorite:b,label:"Add to favorites"})),i.a.createElement("div",{className:Y.a.movie_plot},i.a.createElement("h3",{className:Y.a.other_details__title},"Plot"),i.a.createElement("p",null,r.Plot)),i.a.createElement("div",{className:Y.a.other_details},i.a.createElement("div",{className:Y.a.other_details__detail_item},i.a.createElement("h3",{className:Y.a.other_details__title},"Cast"),i.a.createElement("ul",{className:Y.a.detail_item__detail_list},r.Actors.split(",").map((function(e){return i.a.createElement("li",{key:e,className:Y.a.detail_list__item},e.trim())})))),i.a.createElement("div",{className:Y.a.other_details__detail_item},i.a.createElement("h3",{className:Y.a.other_details__title},"Genre"),i.a.createElement("ul",{className:Y.a.detail_item__detail_list},r.Genre.split(",").map((function(e){return i.a.createElement("li",{key:e,className:Y.a.detail_list__item},e.trim())})))),i.a.createElement("div",{className:Y.a.other_details__detail_item},i.a.createElement("h3",{className:Y.a.other_details__title},"Director"),i.a.createElement("ul",{className:Y.a.detail_item__detail_list},r.Director.split(",").map((function(e){return i.a.createElement("li",{key:e,className:Y.a.detail_list__item},e.trim())})))))),i.a.createElement("figure",{className:Y.a.details__movie_poster},i.a.createElement("img",{src:"N/A"!==r.Poster?r.Poster:"https://via.placeholder.com/190x280/2F3240/CECECE/?text=Poster%20N/A",alt:r.Title}))):h?i.a.createElement(J,{icon:i.a.createElement(g,null),label:h.message}):m?i.a.createElement(J,{icon:i.a.createElement(N,null),label:"Loading data..."}):null};var K=function(){return i.a.createElement("div",{className:s.a.app},i.a.createElement(v,null),i.a.createElement("main",{className:s.a.app__content},i.a.createElement(_.c,null,i.a.createElement(_.a,{exact:!0,path:"/"},i.a.createElement(Z,null)),i.a.createElement(_.a,{path:"/favorites"},i.a.createElement(G,null)),i.a.createElement(_.a,{path:"/:movieId"},i.a.createElement(q,null)))))};a(67);r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(F,null,i.a.createElement(l.a,null,i.a.createElement(K,null)))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.03455a72.chunk.js.map